name: ğŸ”‘ Generate Daily Key & Secret

on:
  schedule:
    - cron: '0 17 * * *'  # 17:00 UTC = 00:00 VN time
  workflow_dispatch:

jobs:
  generate-secure-data:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Generate Daily Data
      run: |
        TODAY=$(date -u +%Y%m%d)
        # Táº¡o key phá»©c táº¡p hÆ¡n
        KEY="vphuc_${TODAY}$(openssl rand -hex 6 | tr '[:lower:]' '[:upper:]')_$(openssl rand -hex 3)"
        SECRET="vphuc_secret_$(openssl rand -hex 12)_${TODAY}"
        
        echo "$KEY" > daily-key.txt
        echo "$SECRET" > daily-secret.txt
        
        # Táº¡o JSON vá»›i checksum
        CHECKSUM=$(echo -n "$KEY$SECRET" | sha256sum | cut -d' ' -f1)
        echo "{\"key\":\"$KEY\",\"secret\":\"$SECRET\",\"date\":\"$TODAY\",\"checksum\":\"$CHECKSUM\"}" > daily-data.json
